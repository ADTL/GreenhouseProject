# Контроллер теплицы на Arduino Mega
<p>

В папке SOFT - текущая версия конфигуратора, коннектится к Меге по COM-порту.
<br/>В папке Mega - прошивка для Меги.
<br/>

<p>
# Как использовать

<p>
Открыть в Arduino IDE файл Main.ino, скомпилировать его и закачать в Мегу. Подсоединить зелёный светодиод к пину 6, красный - к пину 7. Открыть конфигуратор и подключиться к COM-порту, на котором висит Мега. При старте зелёный светодиод поморгает несколько раз и загорится. При переводе режима работы с автоматического на ручной - начинает моргать красный светодиод. Принципиальная схема подключения указана ниже:<br/>
<img src="plan.png"/>

<h2>Внимание!</h2>
В текущей версии используется модуль часов реального времени на микросхеме DS3231 (пин 20 - SDA, пин 21 - SCL). Если вам не нужно использование этого модуля - закомментируйте USE_DS3231_REALTIME_CLOCK в файле Globals.h.
<p>
Также в текущей версии используется GSM-модуль на базе чипа NEOWAY M590. Если вы не хотите использовать управление по SMS - закомментируйте USE_SMS_MODULE в файле Globals.h. 
Если у вас возникли проблемы с работой SMS-модуля - можно включить отладочный режим (<b>не работает совместно с кончигуратором!</b>), раскомментировав NEOWAY_DEBUG_MODE в файле Globals.h.
<p>
Список команд для управления по SMS - смотрите в конфигураторе. Если вы посылаете команду на открытие или закрытие окон - контроллер автоматически переходит в ручной режим работы!
<p>
Все остальные настройки - смотрите в конфигураторе. При перезагрузке контроллера он переходит в автоматический режим работы, даже если при последнем обращении к нему был выставлен ручной режим.

# Текущая редакция
<p>
В текущей редакции актуальных датчиков температуры нет, вместо этого - просто произвольно меняется температура внутри контроллера. Это сделано для демонстрации работы правил по открытию и закрытию фрамуг. Поддержка актуальных датчиков будет позже.