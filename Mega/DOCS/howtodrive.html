<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=WINDOWS-1251"/>
<link rel="stylesheet" href="style.css"  type="text/css"/>

<script type="text/javascript" src="js/common.js"></script>
<script type="text/javascript" src="js/jquery-1.3.2.min.js"></script>
<script type="text/javascript" src="js/iepngfix_tilebg.js"></script>

<title>ƒокументаци€ контроллера теплицы на базе Arduino Mega</title>

</head>
<body leftmargin='40' topmargin='20' rightmargin='40' bottommargin='20' marginwidth='40' marginheight='20' bgcolor='#FFFFFF'>

<img src='images/chart.png' class='fr'/><h1><img src='images/arrow.png' class='arrow_img'/>”правление контроллером</h1>

<hr/>
<div class='fr'><a href='index.html'>оглавление</a></div>

<div>

<div class='info'>
 ак управл€ть контроллером извне?
</div>
<div class='bf tm'>
”правление контроллером осуществл€етс€ по протоколу UART. ƒл€ управлени€ достаточно подключить контроллер к USB-порту компьютера, открыть любую терминальную программу, настроить еЄ на скорость <span class='inf bold'>9600</span> бод, установить автоматическое добавлени€ символов новой строки (\r\n), и установить св€зь.
</div>

<div class='tm'>
ѕосле установки св€зи в окне терминала можно посылать различные команды и получать на них ответ.  ажда€ команда начинаетс€ с префикса <span class='inf bold'>CT</span>, затем идЄт тип команды - получить данные (<span class='inf bold'>GET</span>) или установить данные (<span class='inf bold'>SET</span>). ѕосле типа команды следует знак равенства <span class='inf bold'>=</span>, затем - им€ модул€, к которому обращена команда, и параметры команды, разделЄнные спецсимволом <span class='inf bold'>|</span> (вертикальна€ лини€).
</div>
<div class='hint'><span class='required bold'>¬нимание!</span> Ќигде, кроме как в качестве разделител€ параметров, использовать символ <span class='inf bold'>|</span> нельз€!</div>

</div>

<h2>ѕримеры запросов</h2>

<ul>
<li><span class='inf bold'>CTGET=STAT|FREERAM</span> - получить кол-во свободной пам€ти</li>
<li><span class='inf bold'>CTSET=PIN|13|ON</span> - включить светодиод на пине 13</li>
</ul>
<h2 class='tm'>ќтветы от модулей</h2>

ќтветы приход€т в виде текстовых строк, первыми двум€ символами ответа будут или <span class='inf bold'>OK</span> - обработка запроса прошла успешно, или - <span class='inf bold'>ER</span> - в процессе обработки запроса возникла ошибка. ѕосле знака равенства <span class='inf bold'>=</span> идут специфичные дл€ каждого модул€ и дл€ переданного запроса параметры ответа.

<h2 class='tm'>ѕример ответа</h2>

<ul>
<li><span class='inf bold'>OK=PIN|13|ON</span> - ответ на команду <span class='inf bold'>CTSET=PIN|13|ON</span>.</li>
<li><span class='inf bold'>ER=STAT|UNKNOWN_COMMAND</span> - ответ модул€ <span class='inf bold'>STAT</span> на запрос неизвестной команды.</li>
</ul>

</body>
</html>
